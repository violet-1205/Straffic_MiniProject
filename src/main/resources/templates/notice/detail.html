<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">

<th:block layout:fragment="css">
    <link rel="stylesheet" th:href="@{/css/notice-detail.css(v=${#dates.createNow().getTime()})}">
</th:block>

<body>
<div layout:fragment="content">

    <div class="noticeView">
        <h3 th:text="${notice.title}">제목</h3>
        <div class="noticeInfo">
            <dl>
                <dt>작성자</dt>
                <dd th:text="${notice.author != null ? notice.author.name : '관리자'}">관리자</dd>
            </dl>
            <dl>
                <dt>카테고리</dt>
                <dd th:text="${notice.tag}">공지</dd>
            </dl>
            <dl>
                <dt>등록일</dt>
                <dd th:text="${#temporals.format(notice.createdAt, 'yyyy-MM-dd HH:mm')}">2026-01-01 10:00</dd>
            </dl>
            <dl>
                <dt>조회수</dt>
                <dd th:text="${notice.views}">0</dd>
            </dl>
        </div>
        <div class="noticeCnts" th:utext="${notice.content}">
        </div>
        <div class="notice-images" th:if="${notice.imageData != null}">
            <img th:src="@{/notice/image/{id}(id=${notice.id})}"
                 th:alt="${notice.imageOriginalName}">
        </div>
        <div class="noticeBt">
            <a href="/notice/list" class="btList">목록</a>
            <div sec:authorize="hasRole('ADMIN')">
                <a th:href="@{/notice/admin/edit/{id}(id=${notice.id})}" class="btEdit">수정</a>
                <form th:action="@{/notice/admin/delete/{id}(id=${notice.id})}" method="post" style="display:inline;">
                    <button type="submit" class="btDelete" onclick="return confirm('정말로 삭제하시겠습니까?')">삭제</button>
                </form>
            </div>
        </div>

        <div class="post-nav">
            <div class="post-nav-item">
                <span class="post-nav-label">이전 글</span>
                <a th:if="${previousNotice != null}"
                   th:href="@{/notice/view/{id}(id=${previousNotice.id})}"
                   th:text="${previousNotice.title}">이전 글 제목</a>
                <span class="post-nav-empty" th:if="${previousNotice == null}">이전 글이 없습니다.</span>
            </div>
            <div class="post-nav-item">
                <span class="post-nav-label">다음 글</span>
                <a th:if="${nextNotice != null}"
                   th:href="@{/notice/view/{id}(id=${nextNotice.id})}"
                   th:text="${nextNotice.title}">다음 글 제목</a>
                <span class="post-nav-empty" th:if="${nextNotice == null}">다음 글이 없습니다.</span>
            </div>
        </div>
    </div>
</div>
</body>
</html>
