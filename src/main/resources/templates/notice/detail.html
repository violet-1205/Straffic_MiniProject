<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<body>
<div layout:fragment="content">
    <style>
        .noticeView { background: white; padding: 24px; border-radius: 12px; }
        .noticeView h3 { font-size: 1.4rem; margin-bottom: 16px; }
        .noticeInfo { display: flex; gap: 20px; margin-bottom: 20px; color: #777; font-size: 0.9rem; }
        .noticeInfo dl { display: flex; gap: 6px; margin: 0; }
        .noticeCnts { border-top: 1px solid #eee; padding-top: 16px; min-height: 150px; }
        .notice-images { margin-top: 16px; display: flex; flex-wrap: wrap; gap: 10px; }
        .notice-images img { max-width: 200px; border-radius: 8px; }
        .noticeBt { margin-top: 24px; display: flex; justify-content: space-between; }
        .btList, .btEdit, .btDelete { padding: 8px 16px; border-radius: 6px; text-decoration: none; border: 1px solid #ddd; background: #fff; color: #333; }
        .btList:hover, .btEdit:hover, .btDelete:hover { background: #f5f5f5; }
        .btDelete { color: #e53935; border-color: #ffcdd2; }
    </style>

    <div class="noticeView">
        <h3 th:text="${notice.title}">제목</h3>
        <div class="noticeInfo">
            <dl class="cate">
                <dt class="acchidden">카테고리</dt>
                <dd th:text="${notice.tag}">[공지]</dd>
            </dl>
            <dl class="date">
                <dt class="acchidden">등록일</dt>
                <dd th:text="${#temporals.format(notice.createdAt, 'yyyy-MM-dd')}">2026-01-01</dd>
            </dl>
            <dl class="count">
                <dt class="acchidden">조회수</dt>
                <dd th:text="${notice.views}">0</dd>
            </dl>
        </div>
        <div class="noticeCnts" th:utext="${notice.content}">
        </div>
        <div class="notice-images" th:if="${notice.imageData != null}">
            <img th:src="@{/notice/image/{id}(id=${notice.id})}"
                 th:alt="${notice.imageOriginalName}">
        </div>
        <div class="noticeBt">
            <a href="/notice/list" class="btList">목록</a>
            <div sec:authorize="hasRole('ADMIN')">
                <a th:href="@{/notice/admin/edit/{id}(id=${notice.id})}" class="btEdit">수정</a>
                <form th:action="@{/notice/admin/delete/{id}(id=${notice.id})}" method="post" style="display:inline;">
                    <button type="submit" class="btDelete">삭제</button>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>
